<html>
	<head>
		<meta charset="utf-8">
		<title>Secret</title>
		<style>
hr
{
	border:1px solid #AAAAAA;
}
.standard
{
	background-color:#444444;
	color:#FFFFFF;
	font-family:"Courier New","Courier",monospace;
	font-size:16;
	text-decoration:none;
}
.module
{
	padding:0px;
	margin:4px;
	display:inline-block;
}
.outlined
{
	padding:10px;
	border:1px solid #AAAAAA;
	border-radius:6px;
}
.input:visited
{
	background-color:inherit;
}
.input:focus,.input:hover
{
	background-color:#666666;
}
.input::selection
{
	background:#FF0000;
}
.input::-moz-selection
{
	background:#FF0000;
}
.greyed
{
	color:#AAAAAA;
}
.unlocked,.unlocked:visited
{
	background-color:#4444BB;
}
.unlocked:hover
{
	background-color:#6666DD;
}
.complete,.complete:visited
{
	background-color:#44BB44;
}
.complete:hover
{
	background-color:#66DD66;
}
.green
{
	color:#00FF00;
}
		</style>
		<script>
const ANGRY_MESSAGE="NO LOOKING!!\n";
const RELEVANT_NONE=-1;
const PUZZLE_END="end";
var puzzles;
var input;
var output;
var ended;
function init()
{
	input=document.getElementById("input")
	input.focus();
	input.value="";
	output=document.getElementById("output");
	puzzles=new Array();
	puzzles.push(puzzle("A1",false,"Tk8gTE9PS0lORyEhClFXVnlieTQ9","Tk8gTE9PS0lORyEhClpYbGxZbUZzYkE9PQ=="));
	puzzles.push(puzzle("A2",true,"Tk8gTE9PS0lORyEhClZHaGxJSFJoYkd4bGMzUWdZblZwYkdScGJtY2dhVzRnZEdobElHNWxhV2RvWW05eWFHOXZaQ0JwY3lCaExpNHU=","Tk8gTE9PS0lORyEhCmJXOXpjWFZs"));
	puzzles.push(puzzle("A3",true,"Tk8gTE9PS0lORyEhClEyRnNZM1ZzWVhSbElHRWdiV2xzYkdsdmJpQnBkR1Z5WVhScGIyNXpJRzltSUhSb1pTQm1iMnhzYjNkcGJtY2djMlZ4ZFdWdVkyVWdLRk5qY21GMFkyZ2diV2xuYUhRZ2QyOXlheUIzWld4c0tUbzhZbkkrUEdJK01TQXRJREV2TXlBcklERXZOU0F0SURFdk55QXJJREV2T1NBdUxpNDhMMkkrUEdKeVBrMTFiSFJwY0d4NUlIUm9aU0J5WlhOMWJIUWdZbmtnZEdobElHNTFiV0psY2lCdlppQjNhR2wwWlNCd2JHRnpkR2xqSUhCcGNHVnpJSFJ2SUhSb1pTQnlhV2RvZENCdlppQjBhR1VnYlc5emNYVmxJR1J2YjNJdUlGZG9ZWFFnYVhNZ2RHaGxJSEpsYzNWc2RDQmpiRzl6WlNCMGJ6OD0=","Tk8gTE9PS0lORyEhCmNHaz0="));
	puzzles.push(PUZZLE_END);
	document.body.appendChild(document.createElement("br"));
	puzzles.push(puzzle("B1",false,"Tk8gTE9PS0lORyEhClQyZ2dTR1Z1Y25raA==","Tk8gTE9PS0lORyEhCmIyTjBiMmR2Ym5NPQ=="));
	puzzles.push(puzzle("B2",true,"Tk8gTE9PS0lORyEhClQyNGdWMlZ6ZEdWeWJpQkJkbVZ1ZFdVc0lHNWxZWElnUjI5MWJHUWdVM1J5WldWMExDQjBhR1Z5WlNCcGN5QmhiaUJ2WW1wbFkzUWdkMmwwYUNCMGFHVWdZMmhoY21GamRHVnljeUE4WWo0aVdETTBNRFV4SWp3dllqNGdiMjRnYVhRdUlGZG9ZWFFnWTI5c2IzSWdhWE1nZEdobElHOWlhbVZqZEQ4PQ==","Tk8gTE9PS0lORyEhCmVXVnNiRzkz"));
	puzzles.push(puzzle("B3",true,"Tk8gTE9PS0lORyEhClYyaGhkQ0EwTFdScFoybDBJR0ZrWkhKbGMzTWdhWE1nYzNWbloyVnpkR1ZrSUdKNUlIUm9aU0J1ZFcxaVpYSWdiMllnZDI5eVpITWdhVzRnZEdobElHWnBjbk4wSUhCaGNHVnlJSGx2ZFNCeVpXRmtJR1p5YjIwZ2JXVS9JRUYwSUhSb1lYUWdZV1JrY21WemN5d2diMjRnVjJWc2JHbHVaM1J2Yml3Z2FYTWdZU0JpZFdsc1pHbHVaeXdnWVc1a0lITnZiV1YzYUdWeVpTQnVaV0Z5SUhSb1pYSmxJR2x6SUhSb1pTQjNiM0prSUR4aVBpSnlZWGtpUEM5aVBpNGdWMmhoZENCcGN5QjBhR1VnWm1seWMzUWdkMjl5WkNCMWJtUmxjaUIwYUdGMFB3PT0","Tk8gTE9PS0lORyEhCmJtVnZiZz09"));
	puzzles.push(puzzle("B4",true,"Tk8gTE9PS0lORyEhClRtVmhjaUIwYUdVZ2NISmxkbWx2ZFhNZ1lXUmtjbVZ6Y3l3Z1ptbHVaQ0JoSUhCc1lXTmxJSGRwZEdnZ1lTQndZWGtnY0dodmJtVXNJSE53WldWa0lHSjFiWEFzSUcxaGFXd2dZbTk0TENCaGJtUWdjMjl0WlNCaWFXdGxJSEpoWTJ0ekxpQkpaaUI1YjNVZ1pISmhkeUJoSUhOb1lYQmxJSGRwZEdnZ2RHaGxJSE5oYldVZ2JuVnRZbVZ5SUc5bUlHVnhkV0ZzTFd4bGJtZDBhQ0J6YVdSbGN5QmhjeUIwYUdVZ2JuVnRZbVZ5SUc5bUlHSnBhMlVnY21GamEzTXNJSGRvWVhRZ2RIbHdaU0J2WmlCaGJtZHNaWE1nZDJsc2JDQjBhR1Z5WlNCaVpTQnBibk5wWkdVZ2FYUS8","Tk8gTE9PS0lORyEhCllXTjFkR1U9"));
	puzzles.push(puzzle("B5",true,"Tk8gTE9PS0lORyEhClQyNGdWMlZzYkdsdVozUnZiaXdnZEdobGNtVWdhWE1nWVNCelkzVnNjSFIxY21VZ2IyWWdZU0JtYVhKbElHaDVaSEpoYm5RZ2MyaGhjR1ZrSUd4cGEyVWdZVzRnYVc1emRISjFiV1Z1ZEN3Z1pHbHlaV04wYkhrZ2FXNGdabkp2Ym5RZ2IyWWdZU0JpZFdsc1pHbHVaeUIwYUdGMElITmxiR3h6SUhSb1lYUWdhVzV6ZEhKMWJXVnVkQzRnVjJoaGRDQmhjbVVnZEdobElHOTBhR1Z5SUdsdWMzUnlkVzFsYm5SeklIUm9aWGtnYzJWc2JEOD0","Tk8gTE9PS0lORyEhClozVnBkR0Z5Y3c9PQ=="));
	puzzles.push(PUZZLE_END);
	document.body.appendChild(document.createElement("br"));
	puzzles.push(puzzle("C1",false,"Tk8gTE9PS0lORyEhClFXeHRiMjVrY3k0PQ==","Tk8gTE9PS0lORyEhCk1nPT0="));
	puzzles.push(puzzle("C2",true,"Tk8gTE9PS0lORyEhClYyaGhkQ0JwY3lCMGFHVWdjSEpwYldVZ2JuVnRZbVZ5SUhSb1lYUWdhWE1nZEhkdklHSmxabTl5WlNBeE56eHpkWEErTWp3dmMzVndQajg9","Tk8gTE9PS0lORyEhCk1qZ3g="));
	puzzles.push(puzzle("C3",true,"Tk8gTE9PS0lORyEhClYyRnNheUIwYnlBOFlqNWJkR2hsSUhCeVpYWnBiM1Z6SUdGdWMzZGxjbDA4TDJJK0lFeGhibUZ5YXk0Z1YyaGhkQ0JwY3lCMGFHVWdkRzkwWVd3Z2JuVnRZbVZ5SUc5bUlIQnBaV05sY3lCdlppQjNiMjlrSUdsdUlIUm9aU0JpWlc1amFDQmhZM0p2YzNNZ1puSnZiU0IwYUdVZ2MybG5iajg9","Tk8gTE9PS0lORyEhCk5nPT0="));
	puzzles.push(puzzle("C4",true,"Tk8gTE9PS0lORyEhClYyRnNheUIwYnlCMGFHVWdWMlZzYkdsdVozUnZiaUJpZFhNZ2MzUmhkR2x2YmlCaGJtUWdaMjhnYVc1emFXUmxMaUJQYmlCMGFHVWdjMmxrWlNCM2FYUm9JR0VnWW14MVpTQW9ibTkwSUhKbFpDa2dhR1ZoWkdWeUlHWnZjaUIwYUdVZ2MyTm9aV1IxYkdWekxDQm5ieUIxY0hOMFlXbHljeXdnZEhWeWJpQnNaV1owSUNobmIybHVaeUJ2ZFhSemFXUmxLU3dnZEhWeWJpQnNaV1owSUdGbllXbHVJRzkxZEhOcFpHVWdZVzVrSUhkaGJHc2djR0Z5WVd4c1pXd2dkRzhnZEdobElEeHBQbUoxY3lCallXNWhiRHd2YVQ0Z2RXNTBhV3dnZVc5MUlHWnBibVFnWVNCemFXZHVJSGRwZEdnZ1lTQnRZVzRnZDJGc2EybHVaeTRnU0c5M0lHMWhibmtnYkdsdVpYTWdZWEpsSUhSb1pYSmxJSFZ1WkdWeUlHaHBiVDg9","Tk8gTE9PS0lORyEhCk13PT0="));
	puzzles.push(puzzle("C5",true,"Tk8gTE9PS0lORyEhClEyOXVkR2x1ZFdVZ2QyaGxjbVVnZVc5MUlHeGxablFnYjJabUlHWnliMjBnUXpRdUlGUjFjbTRnY21sbmFIUWdZWFFnZEdoaGRDQnphV2R1SUdGdVpDQjNZV3hySUdsdUlHRnpJSE4wY21GcFoyaDBJR0VnYkdsdVpTQmhjeUJ3YjNOemFXSnNaU0IxYm5ScGJDQjViM1VnWm1sdVpDQmhJR1psYm1ObExDQjNhWFJvSUhOdmJXVWdjMmxuYm5NZ2QybDBhQ0IyWldocFkyeGxjeUJ2YmlCMGFHVnRMaUJKWmlBOGFUNWhQQzlwUGlCeVpYQnlaWE5sYm5SeklIUm9aU0J1ZFcxaVpYSWdiMllnYzJsbmJuTXNJR0Z1WkNBOGFUNWlQQzlwUGlCeVpYQnlaWE5sYm5SeklIUm9aU0J1ZFcxaVpYSWdiMllnZG1Wb2FXTnNaWE1nY0dWeUlITnBaMjRzSUdkeVlYQm9PZ284WW5JK1BHSStlU0E5SUNnZ1lTQXRJSGdnS1NBcUlDZ2dlQ0FySUdJZ0tUd3ZZajRLUEdKeVBsUm9hWE1nWjNKaGNHZ2dhWE1nWVNCd1lYSmhZbTlzWVN3Z1lXNWtJR2wwSUdOeWIzTnpaWE1nZEdobElIZ3RZWGhwY3lCcGJpQjBkMjhnY0d4aFkyVnpMaUJVYUdVZ2FHbG5hR1Z6ZENCd2IybHVkQ0J2WmlCMGFHVWdjR0Z5WVdKdmJHRWdhWE1nYUdGc1puZGhlU0JpWlhSM1pXVnVJSFJvWlcwc0lHRnpJR0ZzZDJGNWN5NGdWMmhoZENCcGN5QnBkRDg9","Tk8gTE9PS0lORyEhCk5pNHlOUT09"));
	puzzles.push(puzzle("C6",true,"Tk8gTE9PS0lORyEhClZHaGxJR3hsZEhSbGNuTWdhVzRnWVNCdVlXMWxJRzltSUdFZ2JtVmhjbUo1SUhOMGNtVmxkQ0JqYjNWc1pDQmlaU0IxYzJWa0lIUnZJSE53Wld4c0lEeGlQa3hKVDA0OEwySStMQ0E4WWo1VFQwbE1QQzlpUGl3Z1BHSStTVTlPUEM5aVBpd2dZVzVrSUR4aVBraEpVend2WWo0c0lIUm9iM1ZuYUNCdWIzUWdZV3hzSUdGMElHOXVZMlV1SUVFZ1ptVjNJSGRwY21WeklHaGxiSEFnYzNWd2NHOXlkQ0JoSUhCdmJHVWdZWEp2ZFc1a0lIZG9aWEpsSUhSb1pTQnpkSEpsWlhRZ2QyOTFiR1FnWTI5dWRHbHVkV1VzSUdScFpDQnBkQ0J1YjNRZ1pXNWtJR0YwSUZKcFkyaHRiMjVrTGlCSWIzY2diV0Z1ZVNCM2FYSmxjeXdnZEdodmRXZG9Qdz09","Tk8gTE9PS0lORyEhCk5RPT0="));
	puzzles.push(puzzle("C7",true,"Tk8gTE9PS0lORyEhClZHaGxJR3h2WjI4Z1ptOXlJSFJvWlNCaWRXbHNaR2x1WnlCdmJpQXhNamcxSUZkbGJHeHBibWQwYjI0Z1kyOTFiR1FnWW1VZ1pISmhkMjRnYVc0Z1gxOWZYeUJqYjI1MGFXNTFiM1Z6SUd4cGJtVWdjR0YwYUhNc0lIZHBkR2h2ZFhRZ2JHbG1kR2x1WnlCMGFHVWdjR1Z1SUc5bVppQjBhR1VnY0dGd1pYSXU=","Tk8gTE9PS0lORyEhCk1RPT0="));
	puzzles.push(PUZZLE_END);
	ended=0;
	console.log(ANGRY_MESSAGE);
}
function check()
{
	var relevant=confirm(input.value);
	if(relevant==RELEVANT_NONE)
	{
		input.focus();
		input.select();
	}
}
function confirm(text)
{
	var fixed=text.replace(/ /g,"").toLowerCase();
	for(var index=0;index<puzzles.length;index++)
	{
		if(puzzles[index]!=PUZZLE_END&&fixed==decode(puzzles[index].data.answer))
		{
			if(!(puzzles[index].data.locked||puzzles[index].data.complete))
			{
				puzzles[index].data.complete=true;
				input.focus();
				input.value="";
				if(puzzles[index+1]==PUZZLE_END)
				{
					ended++;
				}
				else
				{
					puzzles[index+1].data.locked=false;
					update(puzzles[index+1]);
				}
				puzzles[index].click();
				update(puzzles[index]);
				return index;
			}
		}
	}
	return RELEVANT_NONE;
}
function encode(text)
{
	return btoa(ANGRY_MESSAGE+btoa(text));
}
function decode(text)
{
	return atob(atob(text).substr(ANGRY_MESSAGE.length));
}
function puzzle(label,locked,clue,answer)
{
	var display=document.createElement("a");
	display.data={"clue":clue,"answer":answer,"locked":locked,"complete":false};
	display.onclick=function(event)
	{
		if(!(event.target.data.locked))
		{
			if(event.target.data.complete)
			{
				reveal(decode(event.target.data.clue)+" <font class=\"green\">[COMPLETE]</font>");
			}
			else
			{
				reveal(decode(event.target.data.clue));
			}
		}
	};
	display.href="#";
	display.innerHTML=label;
	update(display);
	document.body.appendChild(display);
	return display;
}
function update(puzzle)
{
	if(puzzle.data.locked)
	{
		puzzle.className="greyed standard outlined module";
	}
	else if(puzzle.data.complete)
	{
		puzzle.className="complete standard outlined module";
	}
	else
	{
		puzzle.className="standard outlined unlocked input module";
	}
}
function reveal(text)
{
	if(ended<3)
	{
		output.innerHTML=text;
	}
	else
	{
		output.innerHTML=text+" <a class=\"standard outlined input module\" href=\"EvenMoreSecret.html\">Congrats!</a>";
	}
}

		</script>
	</head>
	<body class="standard" onload="init();">
		<p class="standard module">Happy Christmas and good luck!
		<br>Do <i>not</i> refresh the page... You will lose your progress. I <i>strongly</i> recommend that you record your answers elsewhere.</p>
		<br>
		<input id="input" class="standard outlined input module" type="text" placeholder="Key"></input><a class="standard outlined input module" href="#" onclick="check();">Check</a>
		<br>
		<p id="output" class="greyed standard outlined module">Click an unlocked (blue) puzzle for its clue.</p>
		<br>
	</body>
</html>
